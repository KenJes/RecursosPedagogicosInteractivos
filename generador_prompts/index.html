<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de Megaprompts ‚Äî Recursos Pedag√≥gicos Interactivos</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- html2pdf para exportar a PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js" defer></script>
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <header class="topbar">
    <h1>Generador de Megaprompts</h1>
    <p class="subtitle">Crea megaprompts para generar recursos pedag√≥gicos interactivos en la web</p>
  </header>

  <main class="container">
    <section class="card form-card">
      <h2>Par√°metros del recurso</h2>

      <!-- Banner de sugerencias -->
      <div class="format-suggestions">
        <h3>Ideas de Formatos Interactivos</h3>
        <p style="font-size:0.85rem;color:var(--muted);margin:6px 0 10px 0;">Haz clic en una sugerencia para explorar ese tipo de actividad:</p>
        <div class="suggestion-grid">
          <div class="suggestion-item" data-format="gamification">üéÆ Gamificaci√≥n (puntos, badges, niveles)</div>
          <div class="suggestion-item" data-format="sandbox">üß™ Sandbox / Laboratorio virtual</div>
          <div class="suggestion-item" data-format="decision-tree">üå≥ √Årbol de decisiones</div>
          <div class="suggestion-item" data-format="simulation">üî¨ Simulaci√≥n interactiva</div>
          <div class="suggestion-item" data-format="quiz">‚ùì Quiz din√°mico con feedback</div>
          <div class="suggestion-item" data-format="storytelling">üìñ Narrativa ramificada</div>
          <div class="suggestion-item" data-format="drag-drop">üñ±Ô∏è Arrastrar y soltar</div>
          <div class="suggestion-item" data-format="timeline">‚è±Ô∏è L√≠nea de tiempo interactiva</div>
          <div class="suggestion-item" data-format="map">üó∫Ô∏è Mapa conceptual/mental</div>
          <div class="suggestion-item" data-format="code-editor">üíª Editor de c√≥digo en vivo</div>
          <div class="suggestion-item" data-format="puzzle">üß© Rompecabezas / Puzzle l√≥gico</div>
          <div class="suggestion-item" data-format="card-match">üÉè Juego de memoria/emparejar</div>
        </div>
      </div>

      <div class="grid">
        <label class="field">
          <div class="field-header">
            <span>T√≠tulo del recurso</span>
            <span class="help-icon" data-tooltip="title-help">?</span>
            <div class="tooltip" id="title-help">
              <div class="tooltip-title">üí° Consejos para el t√≠tulo</div>
              <div>Dale un nombre atractivo y descriptivo que refleje el tema principal.</div>
              <div class="tooltip-examples">
                <strong>Ejemplos:</strong><br>
                ‚Ä¢ "Viaje por el Sistema Solar"<br>
                ‚Ä¢ "Detective de Fracciones"<br>
                ‚Ä¢ "Laboratorio Qu√≠mico Virtual"
              </div>
            </div>
          </div>
          <input id="title" placeholder="Ej. Explorando la fotos√≠ntesis" />
        </label>

        <label class="field">
          <span>Materia / Tema</span>
          <input id="subject" placeholder="Ciencias, Matem√°ticas, Lengua..." />
        </label>

        <label class="field">
          <span>Rango de edad / curso</span>
          <input id="ageRange" placeholder="Ej. 10-12 a√±os / 5¬∫ primaria" />
        </label>

        <label class="field">
          <span>Duraci√≥n estimada</span>
          <input id="duration" placeholder="Ej. 20 minutos" />
        </label>

        <label class="field full">
          <span>Objetivos de aprendizaje (separados por punto y coma)</span>
          <textarea id="objectives" rows="3" placeholder="Ej. Comprender...; Identificar..."></textarea>
        </label>

        <label class="field">
          <div class="field-header">
            <span>Formato deseado</span>
            <span class="help-icon" data-tooltip="format-help">?</span>
            <div class="tooltip" id="format-help">
              <div class="tooltip-title">üéØ Tipos de formatos</div>
              <div>Elige el formato que mejor se adapte a tus objetivos de aprendizaje.</div>
              <div class="tooltip-examples">
                <strong>Opciones populares:</strong><br>
                ‚Ä¢ <strong>Gamificaci√≥n:</strong> Sistema de puntos, logros y rankings<br>
                ‚Ä¢ <strong>Sandbox:</strong> Experimentaci√≥n libre sin consecuencias<br>
                ‚Ä¢ <strong>√Årbol de decisiones:</strong> Escenarios con m√∫ltiples caminos<br>
                ‚Ä¢ <strong>Quiz interactivo:</strong> Preguntas con feedback inmediato
              </div>
            </div>
          </div>
          <select id="format">
            <option>Actividad interactiva web (HTML/CSS/JS)</option>
            <option>Juego breve (puntos, niveles)</option>
            <option>Cuestionario interactivo</option>
            <option>Simulaci√≥n / Laboratorio virtual</option>
            <option>Mapa conceptual interactivo</option>
            <option>√Årbol de decisiones / Escenario ramificado</option>
            <option>Narrativa interactiva (storytelling)</option>
            <option>Sandbox / Entorno de experimentaci√≥n</option>
            <option>Juego de arrastrar y soltar</option>
            <option>L√≠nea de tiempo interactiva</option>
          </select>
        </label>

        <label class="field">
          <span>Nivel de dificultad</span>
          <select id="difficulty">
            <option>F√°cil</option>
            <option>Intermedio</option>
            <option>Avanzado</option>
          </select>
        </label>

        <label class="field">
          <span>Lenguaje</span>
          <select id="language">
            <option>Espa√±ol</option>
            <option>Ingl√©s</option>
            <option>Otro</option>
          </select>
        </label>

        <label class="field full">
          <div class="field-header">
            <span>Metodolog√≠as pedag√≥gicas (separadas por coma)</span>
            <span class="help-icon" data-tooltip="method-help">?</span>
            <div class="tooltip" id="method-help">
              <div class="tooltip-title">üìö Metodolog√≠as disponibles</div>
              <div>Combina diferentes enfoques pedag√≥gicos para enriquecer la experiencia.</div>
              <div class="tooltip-examples">
                <strong>Ideas:</strong><br>
                ‚Ä¢ gamificaci√≥n, aprendizaje basado en juegos<br>
                ‚Ä¢ aprendizaje por descubrimiento, constructivismo<br>
                ‚Ä¢ aprendizaje adaptativo, diferenciaci√≥n<br>
                ‚Ä¢ flipped classroom, aprendizaje activo<br>
                ‚Ä¢ storytelling educativo, narrativa inmersiva
              </div>
            </div>
          </div>
          <input id="methodologies" placeholder="Ej. aprendizaje basado en proyectos, gamificaci√≥n, flipped classroom" />
        </label>

        <label class="field full">
          <span>T√©cnicas de prompt engineering (separadas por coma)</span>
          <input id="promptTechniques" placeholder="Ej. few-shot, system prompt, step-by-step, persona, constraints" />
        </label>

        <label class="field full">
          <span>Accesibilidad / Consideraciones (contraste, lectores, subt√≠tulos)</span>
          <input id="accessibility" placeholder="Ej. WCAG AA, subt√≠tulos, navegaci√≥n teclado" />
        </label>

        <label class="field full">
          <div class="field-header">
            <span>Restricciones t√©cnicas</span>
            <span class="help-icon" data-tooltip="tech-help">?</span>
            <div class="tooltip" id="tech-help">
              <div class="tooltip-title">‚öôÔ∏è Consideraciones t√©cnicas</div>
              <div>Define l√≠mites t√©cnicos para asegurar compatibilidad y simplicidad.</div>
              <div class="tooltip-examples">
                <strong>Sugerencias comunes:</strong><br>
                ‚Ä¢ un solo archivo HTML (todo en uno)<br>
                ‚Ä¢ sin backend, sin bases de datos<br>
                ‚Ä¢ compatible con dispositivos m√≥viles<br>
                ‚Ä¢ funciona sin conexi√≥n a internet<br>
                ‚Ä¢ guardado en localStorage<br>
                ‚Ä¢ sin bibliotecas externas / solo vanilla JS
              </div>
            </div>
          </div>
          <input id="techConstraints" placeholder="Ej. sin backend, sin bibliotecas externas, compatible m√≥vil" />
        </label>

        <label class="field full">
          <div class="field-header">
            <span>Instrucciones adicionales / Est√©tica / Tonos</span>
            <span class="help-icon" data-tooltip="extra-help">?</span>
            <div class="tooltip" id="extra-help">
              <div class="tooltip-title">üé® Personalizaci√≥n adicional</div>
              <div>Define el estilo visual, tono y caracter√≠sticas especiales del recurso.</div>
              <div class="tooltip-examples">
                <strong>Ideas de personalizaci√≥n:</strong><br>
                ‚Ä¢ <strong>Visual:</strong> dise√±o minimalista, colores vibrantes, dark mode<br>
                ‚Ä¢ <strong>Tono:</strong> amigable, motivador, profesional, divertido<br>
                ‚Ä¢ <strong>Extra:</strong> animaciones suaves, sonidos de feedback, confeti al ganar<br>
                ‚Ä¢ <strong>UX:</strong> progreso visible, hints opcionales, modo tutorial
              </div>
            </div>
          </div>
          <input id="extras" placeholder="Ej. visuales coloridos, estilo minimalista, tono motivador" />
        </label>
      </div>

      <div class="examples-block">
        <h3>Ejemplos (few-shot)</h3>
        <div id="examples"></div>
        <div class="examples-actions">
          <button id="addExample" class="btn ghost">A√±adir ejemplo</button>
          <button id="clearExamples" class="btn ghost">Borrar ejemplos</button>
        </div>
      </div>

      <div class="actions">
        <button id="generate" class="btn primary">Generar Megaprompt</button>
        <button id="generateSample" class="btn">Generar Ejemplo R√°pido</button>
      </div>
    </section>

    <section class="card output-card" aria-live="polite">
      <h2>Megaprompt generado</h2>
      <div id="promptContainer" class="prompt-container">
        <pre id="megaprompt" class="megaprompt" tabindex="0" aria-label="Megaprompt generado"></pre>
      </div>

      <div class="output-actions">
        <button id="copyBtn" class="btn">Copiar al portapapeles</button>
        <button id="downloadTxt" class="btn">Descargar .txt</button>
        <button id="exportPdf" class="btn primary">Exportar a PDF</button>
      </div>

      <details class="help">
        <summary>¬øQu√© contiene el megaprompt?</summary>
        <p>El megaprompt incluye: instrucciones de sistema y rol, objetivos, pasos de la actividad, restricciones, criterios de evaluaci√≥n, formato de entrega (HTML/CSS/JS o JSON), y ejemplos few-shot para guiar al modelo.</p>
      </details>
    </section>
  </main>

  <footer class="footer">
    <small>Dise√±ado para generaci√≥n de prompts pedag√≥gicos ‚Äî Puedes personalizar las plantillas en app.js</small>
  </footer>

</body>
</html>